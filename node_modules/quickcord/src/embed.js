'use strict';

const Discord = require('discord.js');
const Embed = new Discord.RichEmbed();

class QuickEmbed { 
    constructor(options = {}) {
        this.embed = Embed;

        this._generate(options);
    }

    _generate(options) {
        if(options.title) this.embed.setTitle(options.title);
        if(options.description) this.embed.setDescription(options.description);
        if(options.color) this.embed.setColor(options.color);
        if(options.fields) this._insertFields(options.fields);
        if(options.image) this.embed.setImage(options.image);
        if(options.footer) this.embed.setFooter(options.footer);

        return this.embed;
    }

    _insertFields(fields) {
        fields.map(field => {
            this.embed.addField(field.name, field.value, field.inline === undefined ? false : field.inline);
        })
    }
}

module.exports = QuickEmbed;